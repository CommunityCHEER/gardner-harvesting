# Firebase Configuration - Environment Variables Issue

## Problem
Expo's automatic `.env` file loading is not working for web builds. The variables are shown as loaded (`env: load .env`) but are not being injected into the Metro bundler, resulting in `undefined` values in the built bundle.

## Current Workaround
Using `firebaseConfig.web.ts` with hardcoded Firebase credentials for web builds. This file is platform-specific (`.web.ts` extension) and will only be used for web builds while mobile builds continue using the env-var-based `firebaseConfig.ts`.

**Security Note:** The web config contains public Firebase API keys which are safe to expose client-side (they're protected by Firebase security rules on the backend).

## Root Cause
The `npm run start:web` script shows `env: load .env` but Metro bundler doesn't receive the environment variables. When manually exporting the vars (`export $(grep -v '^#' .env | xargs)`), they are available, suggesting the issue is in how Expo CLI v0.22.26 loads and passes env vars to Metro.

## Proper Solution (TODO)
Need to investigate one of:
1. Upgrade to latest Expo CLI and SDK
2. Use `dotenv` package explicitly in Metro config
3. Switch to `app.config.js` (dynamic config) to explicitly load `.env` at build time
4. Pre-export env vars in the npm script: `"start:web": "export $(grep -v '^#' .env | xargs) && EXPO_PUBLIC_GIT_HASH=$(git rev-parse --short HEAD) npx expo export --platform web && npx serve dist"`

## Files Affected
- `firebaseConfig.web.ts` - Web-specific config with hardcoded values (temporary)
- `firebaseConfig.ts` - Original config using env vars (mobile only)
- `.env` - Environment variables (properly configured but not being read)
- `.env.example` - Template for new developers

## Testing
Verified that hardcoded config works: `npm run start:web` successfully builds and serves at http://localhost:3000 with working Firebase authentication.
