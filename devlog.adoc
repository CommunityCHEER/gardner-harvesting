= CHEER App Devlog
Devin Droddy <devin.droddy@gmail.com>
:toc:
:tocdepth: 5

:shrug: ¯\_(ツ)_/¯

== Part 1: Making React Native Happen

image::https://media0.giphy.com/media/5G98t8QjqBLK8/giphy.gif[Stop trying to make fetch happen GIF, 400]

=== Why React Native?

I chose to use React Native for two simple reasons: it's cross-platform and I'm already familiar with the React workflow. I'm open to the idea that there are better alternatives, but I feel like React Native is a safe place to start.

=== Getting Started - 2024-06-20

https://reactnative.dev/docs/environment-setup[The React Native docs] recomment using https://expo.dev[the Expo framework]. I got it set up and running with https://bun.sh[the Bun runtime]. I found that I had to use `expo start` with the `--tunnel` flag to get hot-reloading working. This appears to be a fairly common necessity stemming from any number of local or network-wide configurations. The Expo docs claim it slows down hot-reloading, but it's been pretty speedy for me. Overall, I'm not too concerned by `--tunnel`. I did have some trouble with an `ngrok` dependency for the `--tunnel` feature, but I fixed it by re-initializing the repo and installing it in the project specifically with `bun install`.

.A side note
[%collapsible]
====
This highlights one of my gripes with the JS ecosystem. I find that it's really easy to get into messy situations with dependencies, especially when Bun and Node get mixed. The errors never help. At least starting over pretty consistently fixes things.
====

=== A Camera Component

A core function of the app is the ability to take a picture with the phone camera and process the image data. Thus, there needs to be some camera view in the app.

==== Starting with VisionCamera - 2024-06-20

Initially, I thought something like a camera view would be simple. I thought that many system-interaction components would be provided by the OS (hence "Native"). I was wrong. I had to find a pre-made library for a camera view component and functions for handling camera permissions and image capture. I arrived at https://react-native-vision-camera.com/[VisionCamera], since it seemed like the highest-quality option. Since it "relies on native code" footnote:[See https://github.com/mrousavy/react-native-vision-camera/issues/2670[this issue]], I have to use a https://docs.expo.dev/develop/development-builds/introduction/[development build] instead of https://docs.expo.dev/get-started/set-up-your-environment/[Expo Go]. Initially, I thought this meant rebuilding for any changes, but once I actually started reading the docs (and once I had an actual development build on my phone), I understood how it really works: it's just hot-reloading but in its own dedicated app. {shrug}
